<component-set>
  <components>
    <!--
    <component>
      <role>org.apache.geronimo.gbuild.Main</role>
      <implementation>org.apache.geronimo.gbuild.Main</implementation>
      <requirements>
        <requirement>
          <role>org.apache.geronimo.gbuild.BuildAgent</role>
        </requirement>
      </requirements>
    </component>
    -->
    <component>
      <role>org.apache.geronimo.gbuild.agent.BuildAgent</role>
      <implementation>org.apache.geronimo.gbuild.agent.ContinuumBuildAgent</implementation>
      <requirements>
        <requirement>
          <role>org.apache.geronimo.gbuild.agent.BuildAgentExtentionManager</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.continuum.buildcontroller.BuildController</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.continuum.configuration.ConfigurationService</role>
        </requirement>
      </requirements>
      <configuration>
        <contributor>Unknown</contributor>
        <admin-address>scm@geronimo.apache.org</admin-address>
        <coordinator-url>tcp://localhost:61616</coordinator-url>
        <build-task-queue>BUILD.TASKS</build-task-queue>
        <build-results-topic>BUILD.RESULTS</build-results-topic>
        <working-directory>target/agent/work</working-directory>
        <build-output-directory>target/agent/output</build-output-directory>
      </configuration>
    </component>

    <component>
      <role>org.apache.geronimo.gbuild.agent.BuildAgentExtentionManager</role>
      <implementation>org.apache.geronimo.gbuild.agent.DefaultBuildAgentExtentionManager</implementation>
      <requirements>
        <requirement>
          <role>org.apache.geronimo.gbuild.agent.BuildAgentExtention</role>
          <field-name>extentions</field-name>
        </requirement>
      </requirements>
    </component>

    <component>
      <role>org.codehaus.plexus.action.Action</role>
      <role-hint>execute-builder</role-hint>
      <implementation>org.apache.geronimo.gbuild.agent.ExecuteDistributedBuilderContinuumAction</implementation>
      <requirements>
        <requirement>
          <role>org.apache.maven.continuum.configuration.ConfigurationService</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.continuum.execution.manager.BuildExecutorManager</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.continuum.notification.ContinuumNotificationDispatcher</role>
        </requirement>
        <requirement>
          <role>org.apache.maven.continuum.store.ContinuumStore</role>
        </requirement>
      </requirements>
    </component>

    <component>
      <role>org.apache.maven.continuum.store.ContinuumStore</role>
      <role-hint>agent-store</role-hint>
      <implementation>org.apache.geronimo.gbuild.agent.ThreadContextContinuumStore</implementation>
    </component>

    <component>
      <role>org.apache.maven.continuum.notification.ContinuumNotificationDispatcher</role>
      <role-hint>agent-notifier</role-hint>
      <implementation>org.apache.geronimo.gbuild.agent.MockContinuumNotificationDispatcher</implementation>
    </component>


  </components>
</component-set>
