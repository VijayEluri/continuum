#macro( graph $rootDir $item )
      <table width="200" height="15" cellpadding="0" cellspacing="0" border="0" class="estimateGraph">
        <tr>
          #if( $item.passBarSize > 0 )
          <td class="greenbar"><img src="${rootDir}/resources/spacer.gif" border="0" width="$item.passBarSize" height="1"/></td>
          #end
          #if( $item.failBarSize > 0 )
          <td class="darkredbar"><img src="${rootDir}/resources/spacer.gif" border="0" width="$item.failBarSize" height="1"/></td>
          #end
        </tr>
      </table>
#end

#macro( testImage $rootDir $testCase )
    #if( $testCase.passed )
      #set( $image = "${rootDir}/resources/icon_success_sml.gif" )
    #elseif( $testCase.failed )
      #set( $image = "${rootDir}/resources/icon_warning_sml.gif" )
    #else
      #set( $image = "${rootDir}/resources/icon_error_sml.gif" )
    #end
#end

#macro( setRowStyle )
    #if( $rowStyle == "a" )
      #set( $rowStyle = "b" )
    #else
      #set( $rowStyle = "a" )
    #end
#end

#macro( summaryLine $rootDir $summary )
      <table class="bodyTable">
        <tr class="a">
          <td>
            Tests: $summary.testCount
          </td>
          <td>
            Errors: $summary.errorCount
          </td>
          <td>
            Failures: $summary.failureCount
          </td>
          <td align="center" width="30">${summary.passPercentage}%</td>
          <td align="center" width="200">
            #graph( $rootDir $summary )
          </td>
          <td>
            Time: $summary.totalTimeString
          </td>
        </tr>
      </table>
#end

#macro( resultTable $rootDir $summary )
<table class="bodyTable">
  <thead>
    <tr>
      <th>Class</th>
      <th>Tests</th>
      <th>Errors</th>
      <th>Failures</th>
      <th>Success Rate</th>
      <th>Time</th>
    </tr>
  </thead>
#set( $rowStyle = "a" )
#foreach( $item in $summary.items )
  <tr class="$rowStyle">
    <td>
      <a href="${summary.name}/${item.name}.html">$item.name</a>
    </td>
    <td width="30">
      $item.testCount
    </td>
    <td width="30">
      $item.errorCount
    </td>
    <td width="30">
      $item.failureCount
    </td>
    <td width="200">
      #graph( $rootDir $item )
    </td>
    <td width="30">
      $item.totalTimeString
    </td>
  </tr>
#setRowStyle()
#end
</table>
#end

